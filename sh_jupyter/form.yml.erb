cluster: "sherlock"

form:
  - jp_mode
  - sh_python_version
  - sh_extra_jupyter_args
  - sh_modules
  - auto_queues
  - sh_cpus
  - sh_gpus
  - sh_mem
  - bc_num_hours
  - bc_email_on_started

attributes:

  jp_mode:
    label: "Jupyter mode"
    widget: "radio"
    value: "1"
    options:
      - ["Jupyter Lab", "jupyterlab"]
      - ["Jupyter Notebook", "notebook"]

  sh_modules:
    label: "Additional modules (optional)"
    help: |
        <small>Space separated list of additional modules to load (eg. `py-numpy/1.17.2_py36`)</br/>
        Full list at https://www.sherlock.stanford.edu/docs/software/list </small>

  sh_extra_jupyter_args:
    label: "Extra Jupyter arguments (optional)"

  sh_python_version:
    label: "Python version"
    widget: select
    options:
      - [ "Python 2.7", "py27" ]
      - [ "Python 3.6", "py36" ]
      - [ "Python 3.9", "py39" ]
    value: "py39"

 auto_queues:
    label: "Partition"
    value: "dev"
    required: true
    help: |
      <small>Partition to submit the job to</small>

 sh_cpus:
    label: "#CPUs"
    widget: "number_field"
    help: "<small>Number of CPU cores to allocate</small>"
    required: true
    min: 1
    value: "1"

  sh_gpus:
    label: "#GPUs (optional)"
    widget: "number_field"
    help: "<small>Number of GPUs to allocate (don't forget to load the `cuda` module in the `Modules` field above and to select a partition with GPUs)</small>"
    min: 1
    max: 8
    value: ""

  sh_mem:
    label: "Memory (GB) (optional)"
    widget: "number_field"
    help: "<small>Amount of memory to allocate</small>"

  bc_num_hours:
    label: "Runtime (in hours)"
